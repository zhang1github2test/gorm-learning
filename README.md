### GORM 学习

---

### 1. **GORM介绍**

- **目标**：理解 GORM 的用途及其在 Golang 项目中的价值。
- **特性**：
    * 全功能 ORM
    * Create，Save，Update，Delete，Find 中钩子方法
- **内容概要**：GORM 基本操作、模型定义、数据库连接、CRUD 操作、高级功能等。

---

### 2. **环境配置**

- **依赖安装**：GORM 和数据库驱动（如 MySQL、PostgreSQL）。
- **数据库准备**：使用 Docker 或本地数据库设置。
- **项目结构**：
    - 介绍典型的 Go 项目结构，包括 `models/`、`database/`、`repository/` 等文件夹。

---

### 3. **GORM 基本操作**

- **数据库连接**：
    - 使用 GORM 连接数据库，演示 DSN 字符串的配置。
- **模型定义**：
    - 如何定义模型及其与数据库表的映射（字段类型、标签）。
- **CRUD 操作**：
    - **Create**：插入单条和多条记录。
    - **Read**：查询单条、多条记录，条件查询、分页、排序。
    - **Update**：更新单个字段和多个字段。
    - **Delete**：删除记录（软删除与硬删除）。



---

### 5. **GORM 高级功能**

- **自动迁移**：使用 `AutoMigrate` 生成和更新数据库表。
- **事务处理**：GORM 事务的使用，回滚与提交操作。
- **钩子（Hooks）**：Before/After 钩子的使用场景和实现方式。
- **预加载与关联查询**：优化关联查询，减少 N+1 查询。

---

### 6. **性能优化**

- **日志与调试**：使用 `db.Debug()` 查看 SQL 日志，调试查询。
- **批量操作**：批量插入、更新与删除。
- **连接池配置**：优化数据库连接池的使用。

---

### 7. **实战项目**

- **用户管理系统开发**：通过 GORM 实现用户增删改查功能。
- **API 集成**：使用 Gin 框架集成 GORM，开发 RESTful API。



### 8. **GORM Gen 自动代码生成**

#### 8.1 **GORM Gen 简介**

- **GORM 与 GORM Gen 的区别**：手写与自动生成代码的对比。
- GORM Gen 的优势
    - 自动生成代码，减少重复劳动。
    - 提供类型安全的查询方法。
- **适用场景**：适合中大型项目，有大量数据库表和复杂查询操作的应用。

#### 8.2 **环境准备**

- 安装依赖
    - 安装 GORM 和 GORM Gen。
    - 依赖工具：Go 和数据库驱动（MySQL/PostgreSQL）。
- 配置 Go 项目
    - 初始化 Go 模块，项目结构介绍。
    - GORM Gen 的基本配置。
- 数据库准备
    - 创建或导入一个简单的数据库供后续操作使用。

#### 8.3 **使用 GORM Gen 生成代码**

- 生成模型
    - 如何生成数据库模型代码。
    - 配置模型字段的类型、标签和关系。
    - `gorm.Model` 的使用与自定义模型。
- 生成 CRUD 代码
    - 自动生成增、删、改、查的代码。
    - 解析生成的代码结构。
- 示例
    - 基于简单的 `users` 表生成并操作模型和 CRUD 代码。

#### 8.4 **高级查询与自定义操作**

- 条件查询
    - 使用生成代码中的类型安全 API 进行复杂查询。
    - 条件查询、排序、分页查询的实现。
- 自定义 SQL 查询
    - 使用 GORM Gen 实现自定义 SQL 查询。
    - 如何编写复杂查询方法，并保持代码的类型安全性。

#### 8.5 **项目实战：简易博客系统**

- 项目需求
    - 开发一个简易的博客系统，包括用户管理、文章管理、评论管理等功能。
- GORM Gen 使用
    - 利用 GORM Gen 生成用户、文章、评论的数据库模型和 CRUD 操作。
- 系统集成
    - 结合 Gin 框架，开发 RESTful API。

